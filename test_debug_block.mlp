-- Test PMPL debug syntax (both block and single-line)

function test_single_line_debug() returns numeric
    numeric x = 10
    
    -- Single-line debug (no end_debug)
    debug print("Single-line debug: x = ")
    debug print(x)
    
    x = x * 2
    
    debug print("After multiplication: x = ")
    debug print(x)
    
    return x
end_function

function test_block_debug() returns numeric
    numeric x = 5
    
    -- Block debug with goto, label, pause
    debug
        print("Block debug started")
        print("x = ")
        print(x)
        
        numeric step = 0
        
        repeat:  -- Debug label (only in debug)
        step = step + 1
        print("Step: ")
        print(step)
        
        if step < 3 then
            goto repeat  -- Debug goto (only in debug)
        end_if
        
        pause  -- Debug pause (only in debug)
        print("After pause")
    end_debug
    
    return x * 2
end_function

function main() returns numeric
    numeric result1 = test_single_line_debug()
    numeric result2 = test_block_debug()
    
    print("Single-line result: ")
    print(result1)
    
    print("Block result: ")
    print(result2)
    
    return 0
end_function
