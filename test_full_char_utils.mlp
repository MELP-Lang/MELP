-- ============================================================================
-- test_full_char_utils.mlp - Full char_utils module test for YZ_119
-- ============================================================================
-- Purpose: Test ALL character utility functions from char_utils module
-- Expected exit code: 110 (10 functions * 10 + 10 bonus)
-- ============================================================================

-- ============================================================================
-- ALL CHARACTER UTILITY FUNCTIONS (from char_utils.mlp)
-- ============================================================================

-- Check if character is a digit (0-9)
function is_digit(numeric c) returns numeric
    if c >= 48 and c <= 57 then  -- ASCII '0' to '9'
        return 1
    end_if
    return 0
end_function

-- Check if character is a letter (a-z; A-Z)
function is_alpha(numeric c) returns numeric
    -- Check uppercase range
    if c >= 65 and c <= 90 then  -- ASCII 'A'-'Z'
        return 1
    end_if
    -- Check lowercase range
    if c >= 97 and c <= 122 then  -- ASCII 'a'-'z'
        return 1
    end_if
    return 0
end_function

-- Check if character is alphanumeric (letter or digit)
function is_alnum(numeric c) returns numeric
    numeric is_alpha_result
    is_alpha_result = is_alpha(c)
    if is_alpha_result == 1 then
        return 1
    end_if
    numeric is_digit_result
    is_digit_result = is_digit(c)
    if is_digit_result == 1 then
        return 1
    end_if
    return 0
end_function

-- Check if character is whitespace (space; tab; newline; carriage return)
function is_space(numeric c) returns numeric
    if c == 32 then  -- ASCII space
        return 1
    end_if
    if c == 9 then  -- ASCII tab
        return 1
    end_if
    if c == 10 then  -- ASCII newline
        return 1
    end_if
    if c == 13 then  -- ASCII carriage return
        return 1
    end_if
    return 0
end_function

-- Check if character is uppercase letter
function is_upper(numeric c) returns numeric
    if c >= 65 and c <= 90 then  -- ASCII 'A'-'Z'
        return 1
    end_if
    return 0
end_function

-- Check if character is lowercase letter
function is_lower(numeric c) returns numeric
    if c >= 97 and c <= 122 then  -- ASCII 'a'-'z'
        return 1
    end_if
    return 0
end_function

-- Convert character to uppercase
function to_upper(numeric c) returns numeric
    numeric is_lower_result
    is_lower_result = is_lower(c)
    if is_lower_result == 1 then
        return c - 32  -- Convert lowercase to uppercase
    end_if
    return c
end_function

-- Convert character to lowercase
function to_lower(numeric c) returns numeric
    numeric is_upper_result
    is_upper_result = is_upper(c)
    if is_upper_result == 1 then
        return c + 32  -- Convert uppercase to lowercase
    end_if
    return c
end_function

-- Check if character is valid identifier start (letter or underscore)
function is_identifier_start(numeric c) returns numeric
    numeric is_alpha_result
    is_alpha_result = is_alpha(c)
    if is_alpha_result == 1 then
        return 1
    end_if
    if c == 95 then  -- ASCII underscore '_'
        return 1
    end_if
    return 0
end_function

-- Check if character is valid identifier continuation (alphanumeric or underscore)
function is_identifier_char(numeric c) returns numeric
    numeric is_alnum_result
    is_alnum_result = is_alnum(c)
    if is_alnum_result == 1 then
        return 1
    end_if
    if c == 95 then  -- ASCII underscore '_'
        return 1
    end_if
    return 0
end_function

-- Check if character is ASCII (< 128)
function is_ascii(numeric c) returns numeric
    if c >= 0 and c < 128 then
        return 1
    end_if
    return 0
end_function

-- ============================================================================
-- COMPREHENSIVE TEST SUITE
-- ============================================================================

function main() returns numeric
    numeric score
    numeric test_result
    score = 0
    
    -- Test 1: is_digit with '7' (55)
    test_result = is_digit(55)
    if test_result == 1 then
        score = score + 10
    end_if
    
    -- Test 2: is_alpha with 'M' (77)
    test_result = is_alpha(77)
    if test_result == 1 then
        score = score + 10
    end_if
    
    -- Test 3: is_alnum with '9' (57)
    test_result = is_alnum(57)
    if test_result == 1 then
        score = score + 10
    end_if
    
    -- Test 4: is_space with space (32)
    test_result = is_space(32)
    if test_result == 1 then
        score = score + 10
    end_if
    
    -- Test 5: is_upper with 'Z' (90)
    test_result = is_upper(90)
    if test_result == 1 then
        score = score + 10
    end_if
    
    -- Test 6: is_lower with 'a' (97)
    test_result = is_lower(97)
    if test_result == 1 then
        score = score + 10
    end_if
    
    -- Test 7: to_upper - 'b' (98) should become 'B' (66)
    test_result = to_upper(98)
    if test_result == 66 then
        score = score + 10
    end_if
    
    -- Test 8: to_lower - 'C' (67) should become 'c' (99)
    test_result = to_lower(67)
    if test_result == 99 then
        score = score + 10
    end_if
    
    -- Test 9: is_identifier_start with '_' (95)
    test_result = is_identifier_start(95)
    if test_result == 1 then
        score = score + 10
    end_if
    
    -- Test 10: is_identifier_char with '3' (51)
    test_result = is_identifier_char(51)
    if test_result == 1 then
        score = score + 10
    end_if
    
    -- Test 11: is_ascii with valid ASCII (70)
    test_result = is_ascii(70)
    if test_result == 1 then
        score = score + 10
    end_if
    
    return score  -- Expected: 110 (11 tests * 10)
end_function
