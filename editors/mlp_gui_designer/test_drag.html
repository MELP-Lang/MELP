<!DOCTYPE html>
<html>
<head>
<style>
.widget {
  position: absolute;
  width: 100px;
  height: 50px;
  background: blue;
  color: white;
  cursor: move;
  border: 2px solid red;
}
.widget-content {
  pointer-events: none;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}
</style>
</head>
<body>
<div class="widget" style="left: 100px; top: 100px;">
  <div class="widget-content">Test Widget</div>
</div>

<script>
let isDragging = false;
let startX, startY;
let widget = document.querySelector('.widget');

widget.addEventListener('mousedown', (e) => {
  console.log('mousedown on widget', e.target);
  isDragging = true;
  startX = e.clientX - widget.offsetLeft;
  startY = e.clientY - widget.offsetTop;
  e.preventDefault();
});

document.addEventListener('mousemove', (e) => {
  if (isDragging) {
    console.log('moving widget');
    widget.style.left = (e.clientX - startX) + 'px';
    widget.style.top = (e.clientY - startY) + 'px';
  }
});

document.addEventListener('mouseup', () => {
  if (isDragging) {
    console.log('mouseup');
    isDragging = false;
  }
});
</script>
</body>
</html>
