<!DOCTYPE html>
<html>
<head>
  <title>IntelliSense Test</title>
  <style>
    body { background: #1e1e1e; color: #fff; padding: 20px; font-family: monospace; }
    .editor { background: #2d2d30; padding: 10px; min-height: 200px; border: 1px solid #555; }
    .result { margin-top: 20px; padding: 10px; background: #252526; border: 1px solid #007acc; }
  </style>
</head>
<body>
  <h2>üîç getLineText() Test</h2>
  <div contenteditable="true" class="editor" id="editor">test
gui_button
yazdir "merhaba"</div>
  <div class="result" id="result"></div>
  
  <script>
    const editor = document.getElementById('editor');
    const result = document.getElementById('result');
    
    function testGetLineText(lineNum) {
      // Method 1: textContent
      const text1 = editor.textContent;
      const lines1 = text1.split('\n');
      
      // Method 2: innerText
      const text2 = editor.innerText;
      const lines2 = text2.split('\n');
      
      result.innerHTML = `
        <h3>Line ${lineNum} requested:</h3>
        <p><strong>textContent:</strong> "${lines1[lineNum] || '(undefined)'}"</p>
        <p><strong>innerText:</strong> "${lines2[lineNum] || '(undefined)'}"</p>
        <hr>
        <p><strong>textContent total:</strong> ${text1.length} chars, ${lines1.length} lines</p>
        <p><strong>innerText total:</strong> ${text2.length} chars, ${lines2.length} lines</p>
        <hr>
        <p><strong>textContent lines:</strong><br>${lines1.map((l, i) => `${i}: "${l}"`).join('<br>')}</p>
        <p><strong>innerText lines:</strong><br>${lines2.map((l, i) => `${i}: "${l}"`).join('<br>')}</p>
      `;
      
      console.log('textContent:', text1);
      console.log('innerText:', text2);
    }
    
    // Test on keyup
    editor.addEventListener('keyup', () => {
      testGetLineText(1);
    });
    
    // Initial test
    testGetLineText(1);
  </script>
</body>
</html>
