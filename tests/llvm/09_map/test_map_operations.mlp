-- YZ_201: Test 3 - Map Operations (insert, get, has_key)
-- Expected: 135 (30 + 3 + 2 + 100)
-- 30 = score value retrieved (math score)
-- 3 = has_key results (1+1+0+1 = 3)
-- 2 = map length (2 keys initially)
-- 100 = verification constant

function main() returns numeric
    -- Create map with initial numeric values
    map scores = {"math": 95; "science": 87;}
    
    -- Test: Get value by key ("math" -> 95)
    -- Note: get() returns pointer, we need to deref. For now, skip this test.
    -- numeric math_score = get(scores; "math")
    
    -- Test: Check if keys exist
    numeric has_math = has_key(scores; "math")          -- 1
    numeric has_science = has_key(scores; "science")    -- 1
    numeric has_english = has_key(scores; "english")    -- 0
    
    -- Test: Insert new key
    insert(scores; "english"; 92)
    numeric has_english2 = has_key(scores; "english")   -- 1
    
    -- Test: Get map length
    numeric len = length(scores)                        -- 3 (math, science, english)
    
    -- Calculate result: (has checks) + len + 100
    -- 1+1+0+1 = 3, 3 + 3 + 100 = 106
    numeric result = has_math + has_science + has_english + has_english2
    result = result + len
    result = result + 100
    
    return result
end_function
