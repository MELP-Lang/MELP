#!/bin/bash
# Turkish to English Comment Translation Script
# Generated: December 16, 2025

# Translation map (Turkish â†’ English)
declare -A TRANSLATIONS=(
    # Common programming terms
    ["Parametre sayÄ±sÄ±"]="Parameter count"
    ["DeÄŸer ile capture"]="Capture by value"
    ["Lambda gÃ¶vdesi"]="Lambda body"
    ["HenÃ¼z tamamlanmadÄ±"]="Not yet completed"
    ["Åu anda Ã§alÄ±ÅŸÄ±yor"]="Currently running"
    ["BaÅŸarÄ±yla tamamlandÄ±"]="Successfully completed"
    ["Hata ile tamamlandÄ±"]="Completed with error"
    ["Ä°ptal edildi"]="Cancelled"
    ["BaÄŸÄ±mlÄ±lÄ±k sayÄ±sÄ±"]="Dependency count"
    ["AyÄ±rma stratejisi"]="Allocation strategy"
    ["Dosya adÄ±"]="Filename"
    ["AÃ§ma modu"]="Open mode"
    ["Future durumlarÄ±"]="Future states"
    ["Promise durumlarÄ±"]="Promise states"
    ["Async fonksiyon tÃ¼rÃ¼"]="Async function type"
    ["Await operasyonu tÃ¼rÃ¼"]="Await operation type"
    ["HenÃ¼z yerine getirilmedi"]="Not yet fulfilled"
    ["BaÅŸarÄ±yla yerine getirildi"]="Successfully fulfilled"
    ["TÃ¼m future'larÄ± bekle"]="Wait for all futures"
    ["Ä°lk tamamlananÄ± al"]="Get first completed"
    ["BoÅŸta"]="Idle"
    ["Ã‡alÄ±ÅŸÄ±yor"]="Running"
    ["Gelecekteki bir deÄŸeri temsil eder"]="Represents a future value"
    ["SonuÃ§ deÄŸeri"]="Result value"
    ["Ä°liÅŸkili promise"]="Associated promise"
    ["Ä°liÅŸkili task"]="Associated task"
    ["BaÄŸÄ±mlÄ± future'lar"]="Dependent futures"
    ["Eleman sayÄ±sÄ±"]="Element count"
    ["DeÄŸiÅŸken adÄ±"]="Variable name"
    ["Capture edilmiÅŸ deÄŸiÅŸkenler"]="Captured variables"
    ["Parametre adlarÄ±"]="Parameter names"
    ["DÃ¶nÃ¼ÅŸ future'Ä±"]="Return future"
    ["Generator mÄ±?"]="Is generator?"
    ["Yield state (generator iÃ§in)"]="Yield state (for generator)"
    ["Beklenen hedef (Future/Promise/deÄŸer)"]="Target to await (Future/Promise/value)"
    ["Ã‡oklu hedefler (await_all, await_any)"]="Multiple targets (await_all, await_any)"
    ["Hedef sayÄ±sÄ±"]="Target count"
    ["Timeout sÃ¼resi (opsiyonel)"]="Timeout duration (optional)"
    ["Ä°ptal edilebilir mi?"]="Is cancellable?"
    ["Executor tarafÄ±ndan Ã§alÄ±ÅŸtÄ±rÄ±lacak gÃ¶rev"]="Task to be executed by executor"
    ["Ã‡alÄ±ÅŸtÄ±rÄ±lacak fonksiyon"]="Function to execute"
    ["Fonksiyon argÃ¼manlarÄ±"]="Function arguments"
    ["ArgÃ¼man sayÄ±sÄ±"]="Argument count"
    ["Task'Ä±n future'Ä±"]="Task's future"
    ["Child sayÄ±sÄ±"]="Child count"
    ["Ã–ncelik"]="Priority"
    ["Ã‡alÄ±ÅŸÄ±yor mu?"]="Is running?"
    ["Task'larÄ± Ã§alÄ±ÅŸtÄ±rÄ±r"]="Executes tasks"
    ["Ã‡alÄ±ÅŸtÄ±rma stratejisi"]="Execution strategy"
    ["Task kuyruÄŸu"]="Task queue"
    ["Thread sayÄ±sÄ± (pool iÃ§in)"]="Thread count (for pool)"
    ["Ä°liÅŸkili event loop"]="Associated event loop"
    ["Async iÅŸlemleri koordine eder"]="Coordinates async operations"
    ["Ä°liÅŸkili executor"]="Associated executor"
    ["HazÄ±r task'lar"]="Ready tasks"
    ["HazÄ±r task sayÄ±sÄ±"]="Ready task count"
    ["Bekleyen task sayÄ±sÄ±"]="Waiting task count"
    ["Tick sayÄ±sÄ±"]="Tick count"
    ["DurmalÄ± mÄ±?"]="Should stop?"
    ["TÃ¼m async sistemi yÃ¶netir"]="Manages entire async system"
    ["Future sayÄ±sÄ±"]="Future count"
    ["Promise sayÄ±sÄ±"]="Promise count"
    ["Future iÅŸlemleri"]="Future operations"
    ["Promise iÅŸlemleri"]="Promise operations"
    ["Async Function iÅŸlemleri"]="Async Function operations"
    ["Await iÅŸlemleri"]="Await operations"
    ["Task iÅŸlemleri"]="Task operations"
    ["Executor iÅŸlemleri"]="Executor operations"
    ["Event Loop iÅŸlemleri"]="Event Loop operations"
    ["Async Runtime iÅŸlemleri"]="Async Runtime operations"
    ["DeÄŸer yok (null)"]="No value (null)"
    ["DeÄŸer var"]="Has value"
    ["Tip adÄ±"]="Type name"
    ["SonuÃ§ (0 veya 1)"]="Result (0 or 1)"
    ["SaÄŸ operand (fallback)"]="Right operand (fallback)"
    ["SonuÃ§"]="Result"
    ["Ãœye ismi"]="Member name"
    ["Ä°fade"]="Expression"
    ["Hata mesajÄ±"]="Error message"
    ["API fonksiyonlarÄ±"]="API functions"
    ["Optional operasyonlarÄ±"]="Optional operations"
    ["Optional'Ä±n deÄŸeri var mÄ±?"]="Does optional have value?"
    ["Optional'dan deÄŸer al"]="Get value from optional"
    ["Optional'dan deÄŸer al veya default"]="Get value from optional or default"
    ["Optional iÃ§in kod Ã¼ret"]="Generate code for optional"
    ["Null kontrol iÃ§in kod Ã¼ret"]="Generate code for null check"
    ["Null-coalescing iÃ§in kod Ã¼ret"]="Generate code for null-coalescing"
    ["Safe navigation iÃ§in kod Ã¼ret"]="Generate code for safe navigation"
    ["Null assertion iÃ§in kod Ã¼ret"]="Generate code for null assertion"
    ["Optional oluÅŸtur"]="Create optional"
    ["Code generation fonksiyonlarÄ±"]="Code generation functions"
    ["YardÄ±mcÄ± fonksiyonlar"]="Helper functions"
    ["Parser fonksiyonlarÄ± - Stage 1'de implement edilecek"]="Parser functions - To be implemented in Stage 1"
    ["Ä°liÅŸkili deÄŸiÅŸken adÄ±"]="Associated variable name"
    ["Stack'te ayÄ±r (hÄ±zlÄ±, sÄ±nÄ±rlÄ±)"]="Allocate on stack (fast, limited)"
    ["Heap'te ayÄ±r (yavaÅŸ, esnek)"]="Allocate on heap (slow, flexible)"
    ["Static/Global (program Ã¶mrÃ¼)"]="Static/Global (program lifetime)"
    ["Serbest bÄ±rakÄ±lacak deÄŸiÅŸken"]="Variable to free"
    ["Serbest bÄ±rakÄ±lacak adres"]="Address to free"
    ["Hedef deÄŸiÅŸken"]="Target variable"
    ["Kaynak deÄŸiÅŸken"]="Source variable"
    ["SÄ±fÄ±rlanacak deÄŸiÅŸken"]="Variable to zero"
    ["SÄ±fÄ±rlanacak boyut"]="Size to zero"
    ["Yeniden boyutlandÄ±rÄ±lacak deÄŸiÅŸken"]="Variable to resize"
    ["Bellek ayÄ±rma stratejileri"]="Memory allocation strategies"
    ["Bellek ayÄ±rma talebi"]="Memory allocation request"
    ["Bellek serbest bÄ±rakma"]="Memory deallocation"
    ["Bellek kopyalama"]="Memory copy"
    ["Bellek sÄ±fÄ±rlama"]="Memory zeroing"
    ["Bellek yeniden boyutlandÄ±rma"]="Memory resizing"
    ["Bellek ayÄ±rma oluÅŸtur"]="Create memory allocation"
    ["Bellek serbest bÄ±rakma oluÅŸtur"]="Create memory deallocation"
    ["Bellek kopyalama oluÅŸtur"]="Create memory copy"
    ["Bellek sÄ±fÄ±rlama oluÅŸtur"]="Create memory zeroing"
    ["Bellek yeniden boyutlandÄ±rma oluÅŸtur"]="Create memory resizing"
    ["Bellek ayÄ±rma iÃ§in kod Ã¼ret"]="Generate code for memory allocation"
    ["Ä°ÅŸlenecek koleksiyon"]="Collection to process"
    ["Ã‡aÄŸrÄ±lacak lambda"]="Lambda to call"
    ["ArgÃ¼manlar"]="Arguments"
    ["Capture sayÄ±sÄ±"]="Capture count"
    ["Label adÄ±"]="Label name"
    ["SatÄ±r numarasÄ±"]="Line number"
    ["KoÅŸul"]="Condition"
    ["KoÅŸullu mu?"]="Is conditional?"
    ["Pause mesajÄ± (optional)"]="Pause message (optional)"
    ["Then bloÄŸu"]="Then block"
    ["Else bloÄŸu (optional)"]="Else block (optional)"
    ["Goto iÃ§eriyor mu?"]="Contains goto?"
    ["Pause iÃ§eriyor mu?"]="Contains pause?"
    ["Label sayÄ±sÄ±"]="Label count"
    ["Breakpoint sayÄ±sÄ±"]="Breakpoint count"
    ["Paused mÄ±?"]="Is paused?"
    ["Debug context operasyonlarÄ±"]="Debug context operations"
    ["Debug goto operasyonlarÄ±"]="Debug goto operations"
    ["Debug pause operasyonlarÄ±"]="Debug pause operations"
    ["Debug print operasyonlarÄ±"]="Debug print operations"
    ["Debug if operasyonlarÄ±"]="Debug if operations"
    ["Yazma (Ã¼zerine yaz)"]="Write (overwrite)"
    ["Yazma/Okuma (sÄ±fÄ±rdan)"]="Write/Read (from scratch)"
    ["Dosya iÅŸlemi"]="File operation"
    ["Dosya deÄŸiÅŸkeni"]="File variable"
    ["Okuma buffer'Ä±"]="Read buffer"
    ["Okunacak eleman sayÄ±sÄ±"]="Element count to read"
    ["YazÄ±lacak veri"]="Data to write"
    ["YazÄ±lacak boyut"]="Size to write"
    ["YazÄ±lacak eleman sayÄ±sÄ±"]="Element count to write"
    ["KapatÄ±lacak dosya deÄŸiÅŸkeni"]="File variable to close"
    ["Dosya konumlandÄ±rma (seek)"]="File positioning (seek)"
    ["BaÅŸtan"]="From beginning"
    ["BaÅŸlangÄ±Ã§ noktasÄ±"]="Origin point"
    ["Dosya kontrolÃ¼"]="File check"
    ["Var mÄ±? (runtime)"]="Exists? (runtime)"
    ["API fonksiyonlarÄ±"]="API functions"
    ["Dosya iÅŸlemi oluÅŸtur"]="Create file operation"
    ["Dosya okuma oluÅŸtur"]="Create file read"
    ["Dosya yazma oluÅŸtur"]="Create file write"
    ["Dosya kapatma oluÅŸtur"]="Create file close"
    ["Dosya konumlandÄ±rma oluÅŸtur"]="Create file positioning"
    ["Dosya kontrolÃ¼ oluÅŸtur"]="Create file check"
    ["Dosya aÃ§ma iÃ§in kod Ã¼ret"]="Generate code for file open"
    ["Dosya okuma iÃ§in kod Ã¼ret"]="Generate code for file read"
    ["Dosya yazma iÃ§in kod Ã¼ret"]="Generate code for file write"
    ["Dosya kapatma iÃ§in kod Ã¼ret"]="Generate code for file close"
    ["Dosya konumlandÄ±rma iÃ§in kod Ã¼ret"]="Generate code for file positioning"
    ["Dosya kontrolÃ¼ iÃ§in kod Ã¼ret"]="Generate code for file check"
    ["Dosya aÃ§ma modlarÄ±"]="File open modes"
)

# Files to process (most affected modules)
FILES=(
    "compiler/stage0/modules/async/async.h"
    "compiler/stage0/modules/async/async.c"
    "compiler/stage0/modules/async/async_codegen.c"
    "compiler/stage0/modules/async/async_codegen.h"
    "compiler/stage0/modules/async/async_parser.h"
    "compiler/stage0/modules/lambda/lambda.h"
    "compiler/stage0/modules/lambda/lambda.c"
    "compiler/stage0/modules/lambda/lambda_codegen.c"
    "compiler/stage0/modules/lambda/lambda_codegen.h"
    "compiler/stage0/modules/lambda/lambda_parser.h"
    "compiler/stage0/modules/lambda/lambda_standalone.c"
    "compiler/stage0/modules/memory/memory.h"
    "compiler/stage0/modules/memory/memory.c"
    "compiler/stage0/modules/memory/memory_codegen.c"
    "compiler/stage0/modules/memory/memory_codegen.h"
    "compiler/stage0/modules/memory/memory_parser.h"
    "compiler/stage0/modules/file_io/file_io.h"
    "compiler/stage0/modules/file_io/file_io.c"
    "compiler/stage0/modules/file_io/file_io_codegen.c"
    "compiler/stage0/modules/file_io/file_io_codegen.h"
    "compiler/stage0/modules/file_io/file_io_parser.c"
    "compiler/stage0/modules/file_io/file_io_parser.h"
    "compiler/stage0/modules/debug/debug_features.h"
    "compiler/stage0/modules/debug/debug_features.c"
    "compiler/stage0/modules/debug/debug_features_codegen.c"
    "compiler/stage0/modules/debug/debug_features_codegen.h"
    "compiler/stage0/modules/debug/debug_features_parser.c"
    "compiler/stage0/modules/debug/debug_features_parser.h"
    "compiler/stage0/modules/null_safety/null_safety.h"
    "compiler/stage0/modules/null_safety/null_safety.c"
    "compiler/stage0/modules/null_safety/null_safety_codegen.c"
    "compiler/stage0/modules/null_safety/null_safety_codegen.h"
    "compiler/stage0/modules/null_safety/null_safety_parser.h"
)

echo "ğŸŒ Turkish â†’ English Comment Translation"
echo "=========================================="
echo ""

TOTAL_FILES=${#FILES[@]}
PROCESSED=0
CHANGED=0

for file in "${FILES[@]}"; do
    if [ ! -f "$file" ]; then
        echo "â­ï¸  Skipped: $file (not found)"
        continue
    fi
    
    ((PROCESSED++))
    CHANGED_THIS_FILE=0
    
    # Create backup
    cp "$file" "$file.bak"
    
    # Apply translations
    for turkish in "${!TRANSLATIONS[@]}"; do
        english="${TRANSLATIONS[$turkish]}"
        
        # Replace in comments only (after //)
        if grep -q "$turkish" "$file"; then
            sed -i "s|// $turkish|// $english|g" "$file"
            sed -i "s|  // $turkish|  // $english|g" "$file"
            ((CHANGED_THIS_FILE++))
        fi
    done
    
    if [ $CHANGED_THIS_FILE -gt 0 ]; then
        ((CHANGED++))
        echo "âœ… $file ($CHANGED_THIS_FILE translations)"
    else
        echo "â­ï¸  $file (no changes)"
        rm "$file.bak"
    fi
done

echo ""
echo "=========================================="
echo "ğŸ“Š Summary:"
echo "   Files processed: $PROCESSED"
echo "   Files changed: $CHANGED"
echo "   Backups: *.bak files created"
echo ""
echo "âœ… Translation complete!"
